data.frame(summary(escalc_results)) %>% mutate(y_order=1:n())
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2)
data<-bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2)) %>%
merge(.,data.frame(weights(res)) %>% rownames_to_column(var = "StudyID"),by="StudyID")) %>%
bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2))
data<-bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2)) %>%
merge(.,data.frame(weights(res)) %>% rownames_to_column(var = "StudyID"),by="StudyID") %>%
mutate(StudyID=ifelse(StudyID=="intrcpt","Total (95% CI)",StudyID)) %>%
mutate(total_n=SampleSizeTreatment+SampleSizeControl)
data
data.frame(weights(res)) %>% rownames_to_column(var = "StudyID"),by="StudyID"
data.frame(weights(res)) %>% rownames_to_column(var = "StudyID")
bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2))
data<-bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2)) %>%
merge(.,data.frame(weights(res)) %>% rownames_to_column(var = "StudyID"),by="StudyID",all.x=T) %>%
mutate(StudyID=ifelse(StudyID=="intrcpt","Total (95% CI)",StudyID)) %>%
mutate(total_n=SampleSizeTreatment+SampleSizeControl)
data
data %>%
ggplot(aes(x=yi,y=StudyID))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(data=. %>% filter(StudyID!="Total (95% CI)"),aes(size=total_n),shape=15)+
geom_linerange(data=. %>% filter(StudyID!="Total (95% CI)"),aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=as.factor(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(data=. %>% filter(StudyID!="Total (95% CI)"),aes(size=total_n),shape=15)+
geom_linerange(data=. %>% filter(StudyID!="Total (95% CI)"),aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=as.factor(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(data=. %>% filter(StudyID!="Total (95% CI)"),aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(data=. %>% filter(StudyID!="Total (95% CI)"),aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=as.factor(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=as.factor(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data
data.frame(weights(res)) %>% rownames_to_column(var = "StudyID")
coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(vi=estimate) %>% mutate(y_order=1)
data<-bind_rows(coef(summary(res))%>% rownames_to_column(var = "StudyID") %>% select(StudyID,estimate,ci.lb,ci.ub) %>% rename(yi=estimate) %>% mutate(y_order=1),
data.frame(summary(escalc_results)) %>% mutate(y_order=(1:n())+2)) %>%
merge(.,data.frame(weights(res)) %>% rownames_to_column(var = "StudyID"),by="StudyID",all.x=T) %>%
mutate(StudyID=ifelse(StudyID=="intrcpt","Total (95% CI)",StudyID)) %>%
mutate(total_n=SampleSizeTreatment+SampleSizeControl)
if(min(data$ci.lb)<0){
min_x<-min(data$ci.lb)
} else {
min_x<-0
}
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
res
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(limits = c(min_x,max(data$ci.ub)))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(limits = c(min_x,max(data$ci.ub)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(breaks = c(min_x,max(data$ci.ub)))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
floor(-1.254)
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(breaks = floor(min_x):ceiling(max(data$ci.ub)))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+2),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(breaks = floor(min_x):ceiling(max(data$ci.ub)))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(breaks = floor(min_x):ceiling(max(data$ci.ub)))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
scale_x_continuous(breaks = floor(min_x):ceiling(max(data$ci.ub)))+
scale_x_continuous(breaks = c(2,4,0))+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_linerange(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
runApp('MetaAnalysisDemo')
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub))+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub),height=0.1)+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub),width=0.1)+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(min_x-2,max(data$ci.ub+3)))
runApp('MetaAnalysisDemo')
floor(5.2 / 2) * 2
ceiling(5.2 / 2) * 2
floor(-5.2 / 2) * 2
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub),width=0.1)+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(0-2,max(data$ci.ub+3)))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub),width=0.1)+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
coord_cartesian(xlim=c(0-2,max(data$ci.ub+3)))+
scale_x_continuous(breaks=c(-4,-6,0))
data %>%
ggplot(aes(x=yi,y=(y_order)))+
geom_vline(xintercept=0,linetype="dashed")+
geom_point(aes(size=total_n),shape=15)+
geom_errorbar(aes(xmin=ci.lb,xmax=ci.ub),width=0.1)+
geom_text(aes(label=paste0(round(yi,2)," [",round(ci.lb,2)," - ",round(ci.ub,2),"]"),x=max(ci.ub)+1.5),hjust=0)+
geom_text(aes(label=StudyID,x=min(ci.lb)-3),hjust=0)+
theme_minimal()+
theme(
legend.position = "none",
axis.text.y = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank()
)+
# coord_cartesian(xlim=c(0-2,max(data$ci.ub+3)))+
scale_x_continuous(breaks=c(-4,-6,0))
ceiling(max(data$ci.ub)-min(data$ci.lb))
#x scale
if(ceiling(max(data$ci.ub)-min(data$ci.lb))>=7){
seq<-1
} else {
seq<-2
}
seq
ceiling(max(data$ci.ub)-min(data$ci.lb))
#x scale
if(ceiling(max(data$ci.ub)-min(data$ci.lb))>=7){
seq<-1
} else {
seq<-2
}
seq
ceiling(max(data$ci.ub)-min(data$ci.lb))
ceiling(max(data$ci.ub)-min(data$ci.lb))>=7
print(max(data$ci.ub))
print(min(data$ci.lb))
print(max(data$ci.ub) - min(data$ci.lb))
print(ceiling(max(data$ci.ub) - min(data$ci.lb)))
if (ceiling(max(data$ci.ub) - min(data$ci.lb)) >= 7) {
seq <- 1
} else {
seq <- 2
}
print(seq)
if (ceiling(max(data$ci.ub) - min(data$ci.lb)) <= 7) {
seq <- 1
} else {
seq <- 2
}
print(seq)
shiny::runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
shiny::runApp('MetaAnalysisDemo')
dat <- data.frame(author = c("Dyson", "Jönsson", "Morris", "Saslow", "Saslow", "Sato", "Tay", "Yamada"),
year   = c(2010, 2009, 2019, 2014, 2017, 2017, 2014, 2014),
ai     = c(3, 6, 11, 8, 6, 4, 36, 2),
n1i    = c(6, 6, 21, 9, 11, 22, 46, 12),
ci     = c(1, 3, 0, 5, 0, 0, 30, 2),
n2i    = c(6, 6, 12, 13, 8, 27, 47, 12))
### calculate risk differences and corresponding sampling variances (and use
### the 'slab' argument to store study labels as part of the data frame)
dat <- escalc(measure="RD", ai=ai, n1i=n1i, ci=ci, n2i=n2i, data=dat,
slab=paste(" ", author, year), addyi=FALSE)
dat
### fit random-effects model (using the DL estimator)
res <- rma(yi, vi, data=dat, method="DL")
res
############################################################################
### colors to be used in the plot
colp <- "#6b58a6"
coll <- "#a7a9ac"
### total number of studies
k <- nrow(dat)
### generate point sizes
psize <- weights(res)
psize <- 1.2 + (psize - min(psize)) / (max(psize) - min(psize))
### get the weights and format them as will be used in the forest plot
weights <- fmtx(weights(res), digits=1)
library(shiny)
library(shinydashboard)
library(shinythemes)
library(tidyverse)
library(metafor)
library(DT)
library(knitr)
library(kableExtra)
library(randomNames)
### get the weights and format them as will be used in the forest plot
weights <- fmtx(weights(res), digits=1)
### adjust the margins
par(mar=c(2.7,3.2,2.3,1.3), mgp=c(3,0,0), tcl=0.15)
### forest plot with extra annotations
sav <- forest(dat$yi, dat$vi, xlim=c(-3.4,2.1), ylim=c(-0.5,k+3), alim=c(-1,1), cex=0.88,
pch=18, psize=psize, efac=0, refline=NA, lty=c(1,0), xlab="",
ilab=cbind(paste(dat$ai, "/", dat$n1i), paste(dat$ci, "/", dat$n2i)),
ilab.xpos=c(-1.9,-1.3,1.2), annosym=c(" (", " to ", ")"),
rowadj=-.07)
psize
res
res$weights
weights(res)
### get the weights and format them as will be used in the forest plot
weights <- weights(res)
### adjust the margins
par(mar=c(2.7,3.2,2.3,1.3), mgp=c(3,0,0), tcl=0.15)
### forest plot with extra annotations
sav <- forest(dat$yi, dat$vi, xlim=c(-3.4,2.1), ylim=c(-0.5,k+3), alim=c(-1,1), cex=0.88,
pch=18, psize=psize, efac=0, refline=NA, lty=c(1,0), xlab="",
ilab=cbind(paste(dat$ai, "/", dat$n1i), paste(dat$ci, "/", dat$n2i),),
ilab.xpos=c(-1.9,-1.3,1.2), annosym=c(" (", " to ", ")"),
rowadj=-.07)
### forest plot with extra annotations
sav <- forest(dat$yi, dat$vi, xlim=c(-3.4,2.1), ylim=c(-0.5,k+3), alim=c(-1,1), cex=0.88,
pch=18, psize=psize, efac=0, refline=NA, lty=c(1,0), xlab="",
ilab=cbind(paste(dat$ai, "/", dat$n1i), paste(dat$ci, "/", dat$n2i),weights),
ilab.xpos=c(-1.9,-1.3,1.2), annosym=c(" (", " to ", ")"),
rowadj=-.07)
sav
sav
print(sav)
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
shiny::runApp('MetaAnalysisDemo')
shiny::runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
runApp('MetaAnalysisDemo')
